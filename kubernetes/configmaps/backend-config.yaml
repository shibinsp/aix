# Backend Configuration ConfigMap
# Non-sensitive configuration values
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: backend-config
  namespace: cyberaix-system
  labels:
    app.kubernetes.io/name: cyberaix
    app.kubernetes.io/component: backend
data:
  # Application settings
  APP_NAME: "CyberAIx"
  APP_VERSION: "1.0.0"
  DEBUG: "false"
  API_V1_PREFIX: "/api/v1"

  # Server settings
  HOST: "0.0.0.0"
  PORT: "8000"
  SERVER_HOST: "cyyberaix.in"

  # Security settings
  ACCESS_TOKEN_EXPIRE_MINUTES: "1440"
  ALGORITHM: "HS256"

  # Rate limiting
  RATE_LIMIT_PER_MINUTE: "60"
  RATE_LIMIT_AUTH_PER_MINUTE: "10"

  # Database pool settings
  DATABASE_POOL_SIZE: "10"
  DATABASE_MAX_OVERFLOW: "20"

  # AI settings
  DEFAULT_AI_MODEL: "mistral-large-latest"
  DEFAULT_EMBEDDING_MODEL: "text-embedding-3-small"

  # Course generation settings
  MAX_LESSON_LENGTH: "3000"
  MIN_LESSON_LENGTH: "1500"
  GENERATION_TIMEOUT: "300"

  # RAG settings
  VECTOR_DB_PATH: "/app/data/vector_db"
  CHUNK_SIZE: "1000"
  CHUNK_OVERLAP: "200"
  TOP_K_RESULTS: "5"

  # Lab settings
  LAB_NETWORK_PREFIX: "cyberx_lab_"
  LAB_TIMEOUT_MINUTES: "120"
  MAX_CONCURRENT_LABS: "50"

  # Kubernetes Lab settings
  K8S_LAB_NAMESPACE: "cyberaix-labs"
  K8S_IN_CLUSTER: "true"
  K8S_POD_TIMEOUT: "120"

  # CORS settings - Update for production domain
  CORS_ORIGINS: '["https://cyyberaix.in","https://www.cyyberaix.in","http://localhost:3000"]'

  # HTTPS
  FORCE_HTTPS: "true"
