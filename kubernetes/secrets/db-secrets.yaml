# Database Secrets for AI CyberX
#
# CRITICAL SECURITY WARNING:
# - DO NOT commit real secrets to version control
# - This file contains PLACEHOLDER values only
# - Use Kubernetes Sealed Secrets or External Secrets Operator for production
# - Generate strong passwords with: openssl rand -base64 32
#
# To create secrets from command line (recommended):
#   kubectl create secret generic db-secrets \
#     --from-literal=POSTGRES_USER=cyberx \
#     --from-literal=POSTGRES_PASSWORD=$(openssl rand -base64 32) \
#     --from-literal=POSTGRES_DB=cyberx \
#     --namespace=cyberaix-data
#
# To encode manually: echo -n 'your-value' | base64
# To decode: echo 'encoded-value' | base64 -d
---
apiVersion: v1
kind: Secret
metadata:
  name: db-secrets
  namespace: cyberaix-data
  labels:
    app.kubernetes.io/name: cyberaix
    app.kubernetes.io/component: database
type: Opaque
data:
  # Base64 encoded values - REPLACE BEFORE DEPLOYING!
  # User: echo -n 'cyberx' | base64
  POSTGRES_USER: Y3liZXJ4
  # Password: echo -n '$(openssl rand -base64 32)' | base64
  # PLACEHOLDER - MUST BE CHANGED IN PRODUCTION
  POSTGRES_PASSWORD: UExBQ0VIT0xERVItVVNFLWt1YmVjdGwtY3JlYXRlLXNlY3JldA==
  # Database: echo -n 'cyberx' | base64
  POSTGRES_DB: Y3liZXJ4
---
apiVersion: v1
kind: Secret
metadata:
  name: db-connection
  namespace: cyberaix-system
  labels:
    app.kubernetes.io/name: cyberaix
    app.kubernetes.io/component: backend
type: Opaque
stringData:
  # IMPORTANT: Update password to match the generated one above
  # In production, create this secret using kubectl instead of committing to git
  DATABASE_URL: "postgresql+asyncpg://cyberx:PLACEHOLDER-USE-kubectl-create-secret@postgres.cyberaix-data.svc.cluster.local:5432/cyberx"
  REDIS_URL: "redis://redis.cyberaix-data.svc.cluster.local:6379/0"
