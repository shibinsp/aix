# Storage Class for AI CyberX
# Using Longhorn for distributed storage across multi-node cluster
# Fallback: NFS or local-path provisioner
---
apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: cyberaix-storage
  annotations:
    storageclass.kubernetes.io/is-default-class: "false"
# For Longhorn (recommended for multi-node)
provisioner: driver.longhorn.io
reclaimPolicy: Retain
volumeBindingMode: Immediate
allowVolumeExpansion: true
parameters:
  numberOfReplicas: "2"
  staleReplicaTimeout: "2880"
  fsType: "ext4"
---
# Alternative: NFS StorageClass (if using NFS provisioner)
apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: cyberaix-nfs
provisioner: nfs.csi.k8s.io
reclaimPolicy: Retain
volumeBindingMode: Immediate
allowVolumeExpansion: true
parameters:
  server: nfs-server.cyberaix-data.svc.cluster.local
  share: /exports/cyberaix
---
# Local path provisioner for single-node testing
apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: cyberaix-local
provisioner: rancher.io/local-path
reclaimPolicy: Delete
volumeBindingMode: WaitForFirstConsumer
